<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gerenciar Administradores</title>
<style>
body{font-family:Arial;background:#f5f5f5;margin:0;padding:20px;}
.container{max-width:600px;margin:0 auto;}
h2{margin-bottom:15px;}
input, select{width:100%;padding:8px;margin:5px 0;border-radius:5px;border:1px solid #ccc;}
button{padding:10px 15px;border:none;border-radius:5px;background:#333;color:#fff;margin-top:10px;cursor:pointer;}
table{width:100%;border-collapse:collapse;margin-top:20px;}
th,td{border:1px solid #ccc;padding:8px;text-align:left;}
.btn-excluir{background:#d9534f;color:#fff;}
/* Modal */
.modal-confirmacao{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.4);justify-content:center;align-items:center;z-index:1000;}
.modal-content{background:#fff;padding:20px;border-radius:10px;text-align:center;}
.modal-btns{display:flex;justify-content:space-around;margin-top:15px;}
.modal-btns button{padding:8px 15px;border:none;border-radius:6px;font-weight:bold;cursor:pointer;}
.btn-sim{background:#d9534f;color:#fff;}
.btn-nao{background:#6c757d;color:#fff;}
</style>
</head>
<body>
<div class="container">
<h2>Gerenciar Administradores</h2>
<input type="text" id="loginAdm" placeholder="Login do administrador">
<input type="password" id="senhaAdm" placeholder="Senha">
<select id="especialidadeAdm">
<option value="Corte/Coloracao">Corte/Coloracao</option>
<option value="Manicure">Manicure</option>
<option value="Estetica">Estetica</option>
</select>
<button id="btnAdicionar">Adicionar Administrador</button>

<table>
<thead>
<tr><th>Login</th><th>Especialidade</th><th>Ação</th></tr>
</thead>
<tbody id="adminsTable"></tbody>
</table>
</div>

<!-- Modal -->
<div class="modal-confirmacao" id="modalConfirmacao">
    <div class="modal-content">
        <p id="textoModal">Tem certeza que deseja excluir este administrador?</p>
        <div class="modal-btns">
            <button class="btn-sim" id="btnSimModal">Sim</button>
            <button class="btn-nao" id="btnNaoModal">Não</button>
        </div>
    </div>
</div>

<script>
let adminParaExcluir = null;

// Inicializa admins
if(!localStorage.getItem("admins")){
    const admins = [
        { login:"Micheli", senha:"12345", especialidade:"Corte/Coloracao" },
        { login:"Ionara", senha:"23456", especialidade:"Corte/Coloracao" },
        { login:"Leia", senha:"34567", especialidade:"Manicure" },
        { login:"Sulene", senha:"45678", especialidade:"Estetica" }
    ];
    localStorage.setItem("admins", JSON.stringify(admins));
}

// Carregar admins
function carregarAdmins(){
    const admins = JSON.parse(localStorage.getItem("admins"));
    const tbody = document.getElementById("adminsTable");
    tbody.innerHTML = "";
    admins.forEach(a=>{
        const tr = document.createElement("tr");
        tr.innerHTML=`
            <td>${a.login}</td>
            <td>${a.especialidade}</td>
            <td><button class="btn-excluir" data-login="${a.login}">Excluir</button></td>
        `;
        tbody.appendChild(tr);
    });

    // Evento para abrir modal de exclusão
    document.querySelectorAll(".btn-excluir").forEach(btn=>{
        btn.addEventListener("click", ()=>{
            adminParaExcluir = btn.dataset.login;
            document.getElementById("textoModal").innerText = `Deseja realmente excluir o administrador ${adminParaExcluir}?`;
            document.getElementById("modalConfirmacao").style.display = "flex";
        });
    });
}

// Adicionar admin
document.getElementById("btnAdicionar").addEventListener("click", () => {
    const login = document.getElementById("loginAdm").value.trim();
    const senha = document.getElementById("senhaAdm").value.trim();
    const especialidade = document.getElementById("especialidadeAdm").value;

    if(!login || !senha){ alert("Preencha login e senha"); return; }

    const admins = JSON.parse(localStorage.getItem("admins"));
    if(admins.find(a=>a.login===login)){ alert("Login já existe"); return; }

    admins.push({login,senha,especialidade});
    localStorage.setItem("admins", JSON.stringify(admins));
    carregarAdmins();

    document.getElementById("loginAdm").value="";
    document.getElementById("senhaAdm").value="";
});

// Botões do modal
document.getElementById("btnNaoModal").addEventListener("click", ()=>{
    adminParaExcluir = null;
    document.getElementById("modalConfirmacao").style.display = "none";
});

document.getElementById("btnSimModal").addEventListener("click", ()=>{
    if(!adminParaExcluir) return;
    let admins = JSON.parse(localStorage.getItem("admins"));
    admins = admins.filter(a => a.login !== adminParaExcluir);
    localStorage.setItem("admins", JSON.stringify(admins));
    carregarAdmins();
    document.getElementById("modalConfirmacao").style.display = "none";
    adminParaExcluir = null;
});

// Fecha modal clicando fora
window.addEventListener("click", e=>{
    if(e.target === document.getElementById("modalConfirmacao")){
        document.getElementById("modalConfirmacao").style.display = "none";
        adminParaExcluir = null;
    }
});

// Inicializa tabela
carregarAdmins();
</script>
</body>
</html>
